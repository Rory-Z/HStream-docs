(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{481:function(s,e,t){"use strict";t.r(e);var a=t(10),n=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"deploy-hstream-with-terraform"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploy-hstream-with-terraform"}},[s._v("#")]),s._v(" Deploy HStream with Terraform")]),s._v(" "),t("p",[s._v("This document describes how to deploy HStream with Terraform on a cloud platform that\nsupports "),t("a",{attrs:{href:"https://www.terraform.io/language/providers",target:"_blank",rel:"noopener noreferrer"}},[s._v("Terraform provider"),t("OutboundLink")],1),s._v(". This process is based on\nthe method provided in "),t("RouterLink",{attrs:{to:"/en/latest/deployment/quick-deploy-ssh.html"}},[s._v("Quick Deployment with Docker and SSH")]),s._v(".")],1),s._v(" "),t("h2",{attrs:{id:"find-the-provider"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#find-the-provider"}},[s._v("#")]),s._v(" Find The Provider")]),s._v(" "),t("p",[s._v('Terraform organise and deploy/destroy server resources in terms of declarative configuration files,\nwhich relies on plugins called "providers" to interact with cloud providers, SaaS providers, and\nother APIs.')]),s._v(" "),t("p",[s._v("Common providers can be found in\nthe "),t("a",{attrs:{href:"https://registry.terraform.io/browse/providers",target:"_blank",rel:"noopener noreferrer"}},[s._v("Terraform Register"),t("OutboundLink")],1),s._v(". In this document, we are\ngoing to use the "),t("a",{attrs:{href:"https://www.huaweicloud.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("Huawei Cloud"),t("OutboundLink")],1),s._v(" provider to deploy HStream as an\nexample.")]),s._v(" "),t("p",[s._v("You can check here for more information about the Huawei Cloud provider:")]),s._v(" "),t("ul",[t("li",[s._v("the "),t("a",{attrs:{href:"https://github.com/huaweicloud/terraform-provider-huaweicloud",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub repository"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("the "),t("a",{attrs:{href:"https://registry.terraform.io/providers/huaweicloud/huaweicloud/latest/docs",target:"_blank",rel:"noopener noreferrer"}},[s._v("Terraform Register\ndocumentation"),t("OutboundLink")],1)])]),s._v(" "),t("h2",{attrs:{id:"set-up-the-server-resources"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#set-up-the-server-resources"}},[s._v("#")]),s._v(" Set Up the Server Resources")]),s._v(" "),t("p",[s._v("We are going to introduce a few steps to show how to deploy HStream with Terraform.")]),s._v(" "),t("h3",{attrs:{id:"set-up-basic-constants"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#set-up-basic-constants"}},[s._v("#")]),s._v(" Set Up basic constants")]),s._v(" "),t("p",[s._v("Terraform expressed infrastructure as code in the HCL language. It's useful to set some variables\nfor us to refer to in the following development.")]),s._v(" "),t("p",[s._v("Firstly, create a file named "),t("code",[s._v("terraform.tfvars")]),s._v(". An example would be like:")]),s._v(" "),t("div",{staticClass:"language-hcl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-hcl"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See https://developer.huaweicloud.com/en-us/endpoint")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https://support.huaweicloud.com/intl/en-us/api-eip/eip_api_0003.html")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("region")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn-southwest-2"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("region_network_type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5_sbgp"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See https://support.huaweicloud.com/intl/en-us/productdesc-evs/en-us_topic_0014580744.html")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("data_disk_type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SSD"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Int, GiB, 10..32768")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("data_disk_sizes")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hadmin"')]),s._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"zookeeper"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hstore"')]),s._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hserver"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("num_instances")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hadmin"')]),s._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"zookeeper"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hstore"')]),s._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hserver"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("image_name")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Ubuntu 20.04 server 64bit"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("flavor_name")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"s6.small.1"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("key_pair_name")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"your key pair name goes here"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("network_uuid")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"your network UUID goes here"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br")])]),t("p",[s._v("The syntax for "),t("code",[s._v("num_instances")]),s._v(" defines a map in the HCL language. The value can be accessed by key\nin the following form "),t("code",[s._v('num_instances["hserver"]')]),s._v(".")]),s._v(" "),t("p",[s._v("The variables here are just for example usage, feel free to set, add or remove one or more of them.\nThere are no restrictions on the contents of variables here such as "),t("code",[s._v("data_disk_sizes")]),s._v("\n, "),t("code",[s._v("num_instances")]),s._v(", "),t("code",[s._v("image_name")]),s._v(" and so on as long as they are valid.")]),s._v(" "),t("h3",{attrs:{id:"set-up-ecs-instance"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#set-up-ecs-instance"}},[s._v("#")]),s._v(" Set Up ECS instance")]),s._v(" "),t("p",[s._v("We use the "),t("code",[s._v("resource")]),s._v(" block to declare what compute resource we would like to have. An example would\nbe like:")]),s._v(" "),t("div",{staticClass:"language-hcl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-hcl"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("resource "),t("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"huaweicloud_compute_instance"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hstore"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("count")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" var.num_instances"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hstore"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("name")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hstore-'),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token type variable"}},[s._v("index")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v('"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("image_name")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" var.image_name\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("flavor_name")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" var.flavor_name\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("key_pair")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" var.key_pair_name\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("network")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("access_network")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("uuid")]),s._v("           "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" var.network_uuid\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data_disks")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" var.data_disk_type\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("size")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" var.data_disk_sizes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hstore"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("p",[s._v("(the documentation of "),t("code",[s._v("huaweicloud_compute_instance")]),s._v(" can be\nfound "),t("a",{attrs:{href:"https://registry.terraform.io/providers/huaweicloud/huaweicloud/latest/docs/resources/compute_instance",target:"_blank",rel:"noopener noreferrer"}},[s._v("here"),t("OutboundLink")],1),s._v(")")]),s._v(" "),t("p",[s._v("The resource block declares a list (by "),t("code",[s._v("count")]),s._v(") of ECS instances each can be accessed by its name\nand index, for example, "),t("code",[s._v("huaweicloud_compute_instance.hstore[n]")]),s._v(" (where "),t("code",[s._v("n")]),s._v(" stands for arbitrary\nnumber not out of bounds, an int variable, or the "),t("code",[s._v("*")]),s._v(" to select all).")]),s._v(" "),t("p",[s._v("This fragment of code should be put in an HCL file, let us call it "),t("code",[s._v("main.tf")]),s._v(" and save it to the\nTerraform project root (that is, the folder that contains your previously defined "),t("code",[s._v("terraform.tfvars")]),s._v("\nfile) for convention and convenience. Before we put the resource block in, two extra dependencies\nshould be added first.")]),s._v(" "),t("p",[s._v("Firstly, we declare every variable we would like to refer to in the previously\ndefined "),t("code",[s._v("terraform.tfvars")]),s._v(" file, using the following syntax.")]),s._v(" "),t("div",{staticClass:"language-hcl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-hcl"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("variable"),t("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "data_disk_sizes" ')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("variable"),t("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "num_instances" ')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" map(string)\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("Secondly, we introduce the provider which would be used.")]),s._v(" "),t("div",{staticClass:"language-hcl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-hcl"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("terraform")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("required_providers")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("huaweicloud")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("source")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"huaweicloud/huaweicloud"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("version")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~> 1.33.0"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("provider"),t("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "huaweicloud" ')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("region")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" var.region\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# setting `access_key` and `secret_key` via environment")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# variables `HW_ACCESS_KEY` and `HW_SECRET_KEY`")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("(the latest version can be found in\nthe "),t("a",{attrs:{href:"https://registry.terraform.io/providers/huaweicloud/huaweicloud/latest/docs",target:"_blank",rel:"noopener noreferrer"}},[s._v("Terraform Register documentation"),t("OutboundLink")],1),s._v("\nof Huawei Cloud)")]),s._v(" "),t("h3",{attrs:{id:"set-up-network"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#set-up-network"}},[s._v("#")]),s._v(" Set Up Network")]),s._v(" "),t("p",[s._v("The deployment method provided in "),t("RouterLink",{attrs:{to:"/en/latest/deployment/quick-deploy-ssh.html"}},[s._v("Quick Deployment with Docker and SSH")]),s._v("\nneeds SSH access to remote servers, which needs each server to have accessible (public) IP\naddresses.")],1),s._v(" "),t("p",[s._v("The ECS instances of Huawei Cloud do not provide public IP addresses by default. Another service,\nElastic IP is invoked to serve as a purpose for associating ECS instance to a newly created (or\nalready existing) EIP. The following code fragment demonstrates a way to create a list of EIPs, then\nassociate them for each instance respectively.")]),s._v(" "),t("div",{staticClass:"language-hcl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-hcl"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("resource "),t("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"huaweicloud_vpc_eip"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hserver_eip"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("count")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" var.num_instances"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hserver"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("publicip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" var.region_network_type\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("bandwidth")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("name")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hserver-network-'),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token type variable"}},[s._v("index")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v('"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("size")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("share_type")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"PER"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("charge_mode")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"traffic"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("resource "),t("span",{pre:!0,attrs:{class:"token type variable"}},[s._v('"huaweicloud_compute_eip_associate"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hserver_associated"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("count")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" var.num_instances"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hserver"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("public_ip")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" huaweicloud_vpc_eip.hserver_eip"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("count.index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(".address\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("instance_id")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" huaweicloud_compute_instance.hserver"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("count.index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(".id\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("p",[s._v("The "),t("code",[s._v("output")]),s._v(" block is useful to observe the result that applying a Terraform plan would yield. In\nthis case, we are going to inspect the public IP which can be used for establishing SSH connections.")]),s._v(" "),t("div",{staticClass:"language-hcl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-hcl"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output"),t("span",{pre:!0,attrs:{class:"token type variable"}},[s._v(' "hservers_access_ip" ')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("value")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" huaweicloud_compute_instance.hserver"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(".public_ip\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"set-up-package-dependency"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#set-up-package-dependency"}},[s._v("#")]),s._v(" Set Up Package Dependency")]),s._v(" "),t("p",[s._v("Deploy HStream with Terraform needs "),t("a",{attrs:{href:"https://docs.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker"),t("OutboundLink")],1),s._v(" to be installed on ECS\ninstances. Install instructions can be\nfound "),t("a",{attrs:{href:"https://docs.docker.com/engine/install/centos/",target:"_blank",rel:"noopener noreferrer"}},[s._v("here"),t("OutboundLink")],1),s._v(" ("),t("a",{attrs:{href:"https://docs.docker.com/engine/install/ubuntu/",target:"_blank",rel:"noopener noreferrer"}},[s._v("here"),t("OutboundLink")],1),s._v("\nfor Ubuntu).")]),s._v(" "),t("h2",{attrs:{id:"deployment-with-terraform-cli"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deployment-with-terraform-cli"}},[s._v("#")]),s._v(" Deployment with Terraform CLI")]),s._v(" "),t("p",[s._v("As we had already declared what server resources do we want to have to deploy an HStream cluster in\nthe HCL file. The next step is to check whether these declarations are desirable for our purpose.\nRun this command in the Terraform HCL project root:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("terraform plan\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("Once the HCL script for needed server resources are properly set, you can run "),t("code",[s._v("terraform plan")]),s._v(" to\nsee what changes that Terraform "),t("a",{attrs:{href:"https://www.terraform.io/cli/commands/plan",target:"_blank",rel:"noopener noreferrer"}},[s._v("plans"),t("OutboundLink")],1),s._v(" to make to your\ninfrastructure. This command needs an installed Terraform executable on your PATH, adds on the\nHuawei Cloud access key and secret key can be found by the provider (i.e. via environment variables\nor configuration in the provider block).")]),s._v(" "),t("p",[s._v("Then it would print something like (if running successfully):")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:\n  + create\n\nTerraform will perform the following actions:\n\n  # huaweicloud_compute_eip_associate.hadmin_associated[0] will be created\n  + resource "huaweicloud_compute_eip_associate" "hadmin_associated" {\n      + fixed_ip    = (known after apply)\n      + id          = (known after apply)\n      + instance_id = (known after apply)\n      + port_id     = (known after apply)\n      + public_ip   = (known after apply)\n      + region      = (known after apply)\n    }\n\n...... ......\n\nPlan: 12 to add, 0 to change, 0 to destroy.\n\nChanges to Outputs:\n  + hadmin_access_ip    = [\n      + (known after apply),\n    ]\n  + hadmin_public_ip    = [\n      + (known after apply),\n    ]\n\n...... ......\n\n─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\n\nNote: You didn\'t use the -out option to save this plan, so Terraform can\'t guarantee to take exactly these actions if you run "terraform apply" now.\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br")])]),t("p",[s._v("After previewing and checking whether the proposed changes match what you expected, you can turn to\nmodify the configuration or apply these changes. Apply these changes using another\n"),t("a",{attrs:{href:"https://www.terraform.io/cli/commands/apply",target:"_blank",rel:"noopener noreferrer"}},[s._v("command"),t("OutboundLink")],1),s._v(", "),t("code",[s._v("terraform apply")]),s._v(". The output would be\nsimilar to the above one, plus:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Do you want to perform these actions?\n  Terraform will perform the actions described above.\n  Only 'yes' will be accepted to approve.\n\n  Enter a value:\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("After applying the plan, Terraform would produce some output. To inspect them, run:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("terraform output\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("which yields:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('Outputs:\n\nhadmin_access_ip = [\n  "192.168.0.64",\n]\nhadmin_public_ip = [\n  tostring(null),\n]\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("Using the HCL "),t("code",[s._v("output")]),s._v(" block makes configuring HStream cluster easier. It is necessary to obtain\npublic IP addresses and access IP address, which is in the fields "),t("code",[s._v("public_ip")]),s._v(" and "),t("code",[s._v("access_ip_v4")]),s._v(" of\neach compute instance. Note that if you are binding EIPs to ECSs after creating each instance (like\nwhat we had done above), to yield the right "),t("code",[s._v("public_ip")]),s._v(" you must do "),t("code",[s._v("terraform refresh")]),s._v("\nbefore "),t("code",[s._v("terraform output")]),s._v(".")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('Outputs:\n\nhadmin_access_ip = [\n  "192.168.0.64",\n]\nhadmin_public_ip = [\n  "1**.6*.1**.1**",\n]\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("The "),t("a",{attrs:{href:"https://www.terraform.io/cli/commands/output",target:"_blank",rel:"noopener noreferrer"}},[s._v("command"),t("OutboundLink")],1),s._v(" "),t("code",[s._v("terraform output -json")]),s._v(" displays output\nin JSON, which is easily interactive with command-line tools like "),t("code",[s._v("jq")]),s._v(".")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("terraform output -json "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" jq "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'zookeeper_access_ip.value'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"192.168.0.149"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("After all needed "),t("code",[s._v("public_ip")]),s._v("s and "),t("code",[s._v("access_ip_v4")]),s._v("s are yielded, you can use them to configure the\nHStream cluster configuration and deploy it with created server resources. You can refer\nto "),t("RouterLink",{attrs:{to:"/en/latest/deployment/quick-deploy-ssh.html"}},[s._v("Quick Deployment with Docker and SSH")]),s._v(" for more details.")],1),s._v(" "),t("p",[s._v("Terraform also provides a command for deleting the resources created according to the TCL file, run:")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("terraform apply -destroy\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("(noted that at this time, 2020/2/25, Huawei Cloud would not delete the disks created by creating\ncompute instances when applying this command).")])])}),[],!1,null,null,null);e.default=n.exports}}]);